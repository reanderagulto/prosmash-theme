;
(function ($, w, d, h, b) {

  var app = {
    slideshow: function () {
      // guard: need Swiper and the container present
      if (typeof Swiper === 'undefined') return;

      var $banner = $('.hp-banner');
      var $slider = $('.bg-slider');       // has .swiper
      var $dots   = $('.custom-dots');     // your pagination container

      if (!$slider.length) return;

      var swiper = new Swiper($slider[0], {
        effect: 'fade',
        speed: 500,
        loop: true,
        autoplay: true, // or { delay: 3000, disableOnInteraction: false }
        pagination: $dots.length ? {
          el: $dots[0],
          clickable: true
        } : undefined,
        on: {
          init: function () { updateBannerTheme(this); },
          slideChange: function () { updateBannerTheme(this); }
        }
      });

      // theme toggle based on `.white` on the active slide
      function updateBannerTheme(instance) {
        var current = instance.slides[instance.activeIndex];
        if (current && current.classList.contains('white')) {
          $banner.addClass('theme-white');
        } else {
          $banner.removeClass('theme-white');
        }
      }

      // optional: debounced resize to update layout
      var t;
      $(w).on('resize', function () {
        clearTimeout(t);
        t = setTimeout(function () {
          if (swiper && swiper.update) swiper.update();
        }, 150);
      });
    },

    others: function () {
      /** Put your uncategorized functions/scripts here */
    },

    init: function () {
      this.slideshow();
      this.others();
    }
  };

  $(d).ready(function () {
    app.init();
  });

})(jQuery, window, document, 'html', 'body');
