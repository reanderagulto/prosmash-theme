{{"product-mdp-weare-5.css" | asset_url | stylesheet_tag }}

{% if section.settings.selected_product != blank %}
	{% assign current_product = all_products[section.settings.selected_product] %}
{% else %}
	{% assign current_product = product %}
{% endif %}

{% assign variant = current_product.selected_or_first_available_variant %}
<script>
    if (!('mdp' in window)) {
        window.mdp = {};
    }
    window.mdp.money_format = '{{shop.money_format}}';
</script>
<div id="mdp-weare-{{ section.id }}" class="mdp mdp-weare-single-product" style="padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px; margin-top: {{ section.settings.margin_top }}px; margin-bottom: {{ section.settings.margin_bottom }}px;">
  <div class="mdp-overlay lazyload" data-bgset="{{section.settings.image | img_url : '2000x' }}"></div>
  <div class="mdp-product mdp-container">
    <div class="mdp-media"></div>
    <div class="mdp-data">
      {% render 'mdp-weare-product-blocks', current_product: current_product, variant: variant %}
    </div>
    <script type="application/json" class="mdp-product-json">
      {{ current_product | json }}
    </script>
  </div>
</div>

{% schema %}
  {
    "name": "Single product 5",
	"blocks": [
      {
        "type": "title",
        "name": "Title"
      },
      {
        "type": "rating",
        "name": "Rating"
      },
      {
        "type": "price",
        "name": "Price"
      },
      {
        "type": "sku",
        "name": "SKU"
      },
      {
        "type": "metafield",
        "name": "Metafield",
        "settings": [
          {
            "type": "text",
            "id": "name",
            "label": "Name",
			"default": "Metafield 1"
          },
          {
            "type": "text",
            "id": "namespace",
            "label": "Namespace"
          },
          {
            "type": "text",
            "id": "key",
            "label": "Key"
          }
        ]
      },
      {
        "type": "payment_terms",
        "name": "Payment terms"
      },
      {
        "type": "visitors",
        "name": "Visitors",
        "settings": [
          {
             "type":      "text",
             "id":        "min",
             "label":     "Live views min",
             "default":   "20"
          },
          {
             "type":      "text",
             "id":        "max",
             "label":     "Live views max",
             "default":   "30"
          },
          {
             "type":      "text",
             "id":        "duration",
             "label":     "Live views duration (sec)",
             "default":   "10"
          },
          {
             "type":      "text",
             "id":        "text",
             "label":     "Text",
             "default":   "people are viewing this right now"
          }
        ]
      },
      {
        "type": "options",
        "name": "Options",
        "settings": [
          {
             "type":      "radio",
             "id":        "variants_group",
             "label":     "Variants group",
             "options": [
               { "value": "together", "label": "Together" },
               { "value": "separately", "label": "Separately" }
             ],
             "default":   "separately"
          }
        ]
      },
      {
        "type": "buttons",
        "name": "Buttons"
      },
      {
        "type": "dynamic_checkout",
        "name": "Dynamic checkout"
      },
      {
        "type": "availability",
        "name": "Availability"
      },
      {
        "type": "description",
        "name": "Description",
        "settings": [
          {
            "type": "range",
            "id": "excerpt_words",
            "label": "Excerpt words number",
            "info": "Set 0 if no need to truncate description",
            "default": 0,
            "min": 0,
            "max": 500,
            "step": 10
          },
          {
            "type": "text",
            "id": "excerpt_ellipsis",
            "label": "Excerpt ellipsis",
            "default": "..."
          }
        ]
      },
      {
        "type": "share",
        "name": "Share"
      },
      {
		"type": "@app"
      },
      {
        "type": "custom_liquid",
        "name": "Custom liquid",
        "settings": [
          {
            "type": "liquid",
            "id": "custom_liquid",
            "label": "Custom liquid"
          }
        ]
      }
    ],
    "settings": [
      {
        "type": "product",
        "id": "selected_product",
        "label": "Product"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "checkbox",
        "id": "redirect",
        "label": "Redirect to cart page",
        "default": false
      },
      {
		"type": "header",
		"content": "Strings"
	  },
      {
         "type": "text",
         "id": "sold_out_string",
         "label": "'Sold out' string",
         "default": "Sold out"
      },
      {
         "type": "text",
         "id": "sale_string",
         "label": "'Sale' string",
         "default": "Sale"
      },
      {
         "type": "text",
         "id": "new_string",
         "label": "'New' string",
         "default": "New"
      },
      {
         "type": "text",
         "id": "add_cart_string",
         "label": "'Add cart' string",
         "default": "Add to cart"
      },
      {
        "type": "text",
        "id": "padding_top",
        "label": "Padding top (px)"
      },
      {
        "type": "text",
        "id": "padding_bottom",
        "label": "Padding bottom (px)"
      },
      {
        "type": "text",
        "id": "margin_top",
        "label": "Margin top (px)"
      },
      {
        "type": "text",
        "id": "margin_bottom",
        "label": "Margin bottom (px)"
      }
    ],
    "presets": [{
      "name": "Single product Wide",
      "category": "SectionHub: weare",
      "blocks": [
        {
        "type": "title"
        },
        {
        "type": "price"
        },
        {
        "type": "payment_terms"
        },
        {
        "type": "options"
        },
        {
        "type": "buttons"
        },
        {
        "type": "description"
        }
      ]
    }]
  }
{% endschema %}